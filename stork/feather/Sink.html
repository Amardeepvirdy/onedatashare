<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Wed May 07 17:23:53 EDT 2014 -->
<title>Sink</title>
<meta name="date" content="2014-05-07">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Sink";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../stork/feather/Session.html" title="class in stork.feather"><span class="strong">Prev Class</span></a></li>
<li><a href="../../stork/feather/Slice.html" title="class in stork.feather"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?stork/feather/Sink.html" target="_top">Frames</a></li>
<li><a href="Sink.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">stork.feather</div>
<h2 title="Class Sink" class="title">Class Sink&lt;R extends <a href="../../stork/feather/Resource.html" title="class in stork.feather">Resource</a>&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><any></li>
<li>
<ul class="inheritance">
<li>stork.feather.Sink&lt;R&gt;</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl><dt><span class="strong">Type Parameters:</span></dt><dd><code>R</code> - The destination <code>Resource</code> type.</dd></dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../stork/feather/util/AggregatorSink.html" title="class in stork.feather.util">AggregatorSink</a>, <a href="../../stork/feather/util/HexDumpSink.html" title="class in stork.feather.util">HexDumpSink</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="strong">Sink&lt;R extends <a href="../../stork/feather/Resource.html" title="class in stork.feather">Resource</a>&gt;</span>
extends <any></pre>
<div class="block">A sink is a destination for <a href="../../stork/feather/Slice.html" title="class in stork.feather"><code>Slice</code></a>s from other <a href="../../stork/feather/Resource.html" title="class in stork.feather"><code>Resource</code></a>s. It
 is the sink's responsibility to "drain" the slice to the associated remote
 resource (or data consumer). That is, data should be written as soon as
 possible to the resource connection, and be retained only if necessary. Once
 a slice is drained to the sink, it should not be assumed the slice can be
 requested again, and it is the sink's responsibility to guarantee that the
 slice is eventually drained.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../stork/feather/Tap.html" title="class in stork.feather"><code>Tap</code></a>, 
<a href="../../stork/feather/Slice.html" title="class in stork.feather"><code>Slice</code></a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../stork/feather/Sink.html" title="type parameter in Sink">R</a></code></td>
<td class="colLast"><code><strong><a href="../../stork/feather/Sink.html#root">root</a></strong></code>
<div class="block">The destination <code>Resource</code>.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../stork/feather/Sink.html#Sink(R)">Sink</a></strong>(<a href="../../stork/feather/Sink.html" title="type parameter in Sink">R</a>&nbsp;resource)</code>
<div class="block">Create a <code>Sink</code> with no root <code>Resource</code>.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../stork/feather/ProxyTransfer.html" title="class in stork.feather">ProxyTransfer</a></code></td>
<td class="colLast"><code><strong><a href="../../stork/feather/Sink.html#attach(stork.feather.Tap)">attach</a></strong>(<a href="../../stork/feather/Tap.html" title="class in stork.feather">Tap</a>&nbsp;tap)</code>
<div class="block">Attach this <code>Sink</code> to a <code>Tap</code>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../stork/feather/Sink.html#concurrency()">concurrency</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../stork/feather/Bell.html" title="class in stork.feather">Bell</a>&lt;?&gt;</code></td>
<td class="colLast"><code><strong><a href="../../stork/feather/Sink.html#finalize(stork.feather.Relative)">finalize</a></strong>(<a href="../../stork/feather/Relative.html" title="class in stork.feather">Relative</a>&lt;?,<a href="../../stork/feather/Resource.html" title="class in stork.feather">Resource</a>&gt;&nbsp;resource)</code>
<div class="block">This can be overridden by <code>Sink</code> implementations to finalize the
 transfer of <code>Slice</code>s for a <code>RelativeResource</code>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../stork/feather/Bell.html" title="class in stork.feather">Bell</a>&lt;?&gt;</code></td>
<td class="colLast"><code><strong><a href="../../stork/feather/Sink.html#initialize(stork.feather.Relative)">initialize</a></strong>(<a href="../../stork/feather/Relative.html" title="class in stork.feather">Relative</a>&lt;?,<a href="../../stork/feather/Resource.html" title="class in stork.feather">Resource</a>&gt;&nbsp;resource)</code>
<div class="block">This can be overridden by <code>Sink</code> implementations to initialize the
 transfer of <code>Slice</code>s for a <code>RelativeResource</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../stork/feather/Bell.html" title="class in stork.feather">Bell</a>&lt;?&gt;</code></td>
<td class="colLast"><code><strong><a href="../../stork/feather/Sink.html#initialize(RelativeException)">initialize</a></strong>(RelativeException&nbsp;error)</code>
<div class="block"><code>Sink</code> implementations can override this to handle initialization
 <code>Exception</code>s from upstream.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../stork/feather/Sink.html#isActive()">isActive</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../stork/feather/Sink.html#pause()">pause</a></strong>()</code>
<div class="block">Called when an upstream tap encounters an error while downloading a <a href="../../stork/feather/Resource.html" title="class in stork.feather"><code>Resource</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../stork/feather/Sink.html#random()">random</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../stork/feather/Sink.html#resume()">resume</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../stork/feather/Resource.html" title="class in stork.feather">Resource</a></code></td>
<td class="colLast"><code><strong><a href="../../stork/feather/Sink.html#source()">source</a></strong>()</code>
<div class="block">Get the root <code>Resource</code> of the attached <code>Tap</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../stork/feather/Resource.html" title="class in stork.feather">Resource</a></code></td>
<td class="colLast"><code><strong><a href="../../stork/feather/Sink.html#source(stork.feather.Path)">source</a></strong>(<a href="../../stork/feather/Path.html" title="class in stork.feather">Path</a>&nbsp;path)</code>
<div class="block">Get the <code>Resource</code> specified by <code>path</code> relative to the root of
 the attached <code>Tap</code>.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="root">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>root</h4>
<pre>public final&nbsp;<a href="../../stork/feather/Sink.html" title="type parameter in Sink">R</a> extends <a href="../../stork/feather/Resource.html" title="class in stork.feather">Resource</a> root</pre>
<div class="block">The destination <code>Resource</code>.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Sink(stork.feather.Resource)">
<!--   -->
</a><a name="Sink(R)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Sink</h4>
<pre>public&nbsp;Sink(<a href="../../stork/feather/Sink.html" title="type parameter in Sink">R</a>&nbsp;resource)</pre>
<div class="block">Create a <code>Sink</code> with no root <code>Resource</code>.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="attach(stork.feather.Tap)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>attach</h4>
<pre>public final&nbsp;<a href="../../stork/feather/ProxyTransfer.html" title="class in stork.feather">ProxyTransfer</a>&nbsp;attach(<a href="../../stork/feather/Tap.html" title="class in stork.feather">Tap</a>&nbsp;tap)</pre>
<div class="block">Attach this <code>Sink</code> to a <code>Tap</code>. Once this method is called,
 <code>#start()</code> will be called and the sink may begin draining data from
 the tap. This is equivalent to calling <code>tap.attach(this)</code>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tap</code> - a <a href="../../stork/feather/Tap.html" title="class in stork.feather"><code>Tap</code></a> to attach.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.NullPointerException</code> - if <code>tap</code> is <code>null</code>.</dd>
<dd><code>java.lang.IllegalStateException</code> - if a <code>Tap</code> has already been attached.</dd></dl>
</li>
</ul>
<a name="initialize(stork.feather.Relative)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initialize</h4>
<pre>protected&nbsp;<a href="../../stork/feather/Bell.html" title="class in stork.feather">Bell</a>&lt;?&gt;&nbsp;initialize(<a href="../../stork/feather/Relative.html" title="class in stork.feather">Relative</a>&lt;?,<a href="../../stork/feather/Resource.html" title="class in stork.feather">Resource</a>&gt;&nbsp;resource)</pre>
<div class="block">This can be overridden by <code>Sink</code> implementations to initialize the
 transfer of <code>Slice</code>s for a <code>RelativeResource</code>.</div>
</li>
</ul>
<a name="finalize(stork.feather.Relative)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>finalize</h4>
<pre>protected&nbsp;<a href="../../stork/feather/Bell.html" title="class in stork.feather">Bell</a>&lt;?&gt;&nbsp;finalize(<a href="../../stork/feather/Relative.html" title="class in stork.feather">Relative</a>&lt;?,<a href="../../stork/feather/Resource.html" title="class in stork.feather">Resource</a>&gt;&nbsp;resource)</pre>
<div class="block">This can be overridden by <code>Sink</code> implementations to finalize the
 transfer of <code>Slice</code>s for a <code>RelativeResource</code>.</div>
</li>
</ul>
<a name="initialize(RelativeException)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initialize</h4>
<pre>protected&nbsp;<a href="../../stork/feather/Bell.html" title="class in stork.feather">Bell</a>&lt;?&gt;&nbsp;initialize(RelativeException&nbsp;error)
                      throws java.lang.Exception</pre>
<div class="block"><code>Sink</code> implementations can override this to handle initialization
 <code>Exception</code>s from upstream. By default, this method will throw the
 <code>Exception</code> back to the transfer mediator.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>path</code> - the path of the <code>Resource</code> which had an exception.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - if <code>error</code> was not handled.</dd></dl>
</li>
</ul>
<a name="random()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>random</h4>
<pre>protected&nbsp;boolean&nbsp;random()</pre>
</li>
</ul>
<a name="concurrency()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>concurrency</h4>
<pre>protected&nbsp;int&nbsp;concurrency()</pre>
</li>
</ul>
<a name="isActive()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isActive</h4>
<pre>protected final&nbsp;boolean&nbsp;isActive()</pre>
</li>
</ul>
<a name="pause()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pause</h4>
<pre>protected final&nbsp;void&nbsp;pause()</pre>
<div class="block">Called when an upstream tap encounters an error while downloading a <a href="../../stork/feather/Resource.html" title="class in stork.feather"><code>Resource</code></a>. Depending on the nature of the error, the sink should decide to
 either abort the transfer, omit the file, or take some other action.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>error</code> - the error that occurred during transfer, along with
 contextual information</dd></dl>
</li>
</ul>
<a name="resume()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resume</h4>
<pre>protected final&nbsp;void&nbsp;resume()</pre>
</li>
</ul>
<a name="source()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>source</h4>
<pre>public final&nbsp;<a href="../../stork/feather/Resource.html" title="class in stork.feather">Resource</a>&nbsp;source()</pre>
<div class="block">Get the root <code>Resource</code> of the attached <code>Tap</code>.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The root <code>Resource</code> of the attached <code>Tap</code>.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if a tap has not been attached.</dd></dl>
</li>
</ul>
<a name="source(stork.feather.Path)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>source</h4>
<pre>protected final&nbsp;<a href="../../stork/feather/Resource.html" title="class in stork.feather">Resource</a>&nbsp;source(<a href="../../stork/feather/Path.html" title="class in stork.feather">Path</a>&nbsp;path)</pre>
<div class="block">Get the <code>Resource</code> specified by <code>path</code> relative to the root of
 the attached <code>Tap</code>.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The <code>Resource</code> specified by <code>path</code> relative to the
 root of the attached <code>Tap</code>.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if a tap has not been attached.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../stork/feather/Session.html" title="class in stork.feather"><span class="strong">Prev Class</span></a></li>
<li><a href="../../stork/feather/Slice.html" title="class in stork.feather"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?stork/feather/Sink.html" target="_top">Frames</a></li>
<li><a href="Sink.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
